<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="ChangeFolderIcon.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ChangeFolderIcon.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid Margin="40,32,40,32">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Page Header -->
                <Grid Grid.Row="0" Margin="0,0,0,32">
                    <StackPanel>
                        <TextBlock x:Uid="SettingsPage_Title" 
                                   Text="Settings" 
                                   Style="{ThemeResource TitleLargeTextBlockStyle}"
                                   FontWeight="SemiBold"/>
                        <TextBlock x:Uid="SettingsPage_Subtitle" 
                                   Text="Customize your app experience"
                                   Style="{ThemeResource BodyTextBlockStyle}"
                                   Opacity="0.6"
                                   Margin="0,4,0,0"/>
                    </StackPanel>
                </Grid>

                <!-- Settings Content -->
                <StackPanel Grid.Row="1" Spacing="16">

                    <!-- Appearance & behavior section header -->
                    <TextBlock x:Uid="SettingsPage_Appearance_and_behavior"
                               Text="Appearance &amp; behavior" 
                               Style="{ThemeResource BodyStrongTextBlockStyle}"
                               Margin="0,16,0,8"/>

                    <!-- Language Settings Card -->
                    <Border CornerRadius="8" 
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            Padding="20,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                      Glyph="&#xE775;" 
                                      FontSize="20" 
                                      Margin="0,0,16,0"
                                      VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="1" 
                                        VerticalAlignment="Center"
                                        Spacing="4">
                                <TextBlock x:Uid="SettingsPage_Language" 
                                           Text="Language" 
                                           Style="{ThemeResource BodyTextBlockStyle}"/>
                                <TextBlock x:Uid="SettingsPage_Language_Description" 
                                           Text="Choose the display language for the application"
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           Opacity="0.6"/>
                            </StackPanel>

                            <ComboBox Grid.Column="2"
                                      x:Name="LanguageComboBox" 
                                      Width="200"
                                      SelectionChanged="LanguageComboBox_SelectionChanged">
                                <ComboBoxItem Tag="en-US">
                                    <TextBlock x:Uid="SettingsPage_Language_English" Text="English"/>
                                </ComboBoxItem>
                                <ComboBoxItem Tag="zh-Hans">
                                    <TextBlock x:Uid="SettingsPage_Language_Chinese" Text="简体中文"/>
                                </ComboBoxItem>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Language Restart Info -->
                    <InfoBar x:Uid="SettingsPage_Language_RestartInfo"
                             IsOpen="False"
                             x:Name="LanguageRestartInfoBar"
                             Severity="Informational"
                             Title="Restart required"
                             Message="Please restart the application to apply the language change."
                             IsClosable="True"
                             Margin="0,0,0,8"/>

                    <!-- App Theme Card -->
                    <Border CornerRadius="8" 
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            Padding="20,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                      Glyph="&#xE790;" 
                                      FontSize="20" 
                                      Margin="0,0,16,0"
                                      VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="1" 
                                        VerticalAlignment="Center"
                                        Spacing="4">
                                <TextBlock x:Uid="SettingsPage_Theme" 
                                           Text="App theme" 
                                           Style="{ThemeResource BodyTextBlockStyle}"/>
                                <TextBlock Text="Select which app theme to display"
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           Opacity="0.6"/>
                            </StackPanel>

                            <ComboBox Grid.Column="2"
                                      x:Name="ThemeComboBox" 
                                      Width="200"
                                      SelectionChanged="ThemeComboBox_SelectionChanged">
                                <ComboBoxItem Tag="Light">
                                    <TextBlock x:Uid="SettingsPage_Theme_Light" Text="Light"/>
                                </ComboBoxItem>
                                <ComboBoxItem Tag="Dark">
                                    <TextBlock x:Uid="SettingsPage_Theme_Dark" Text="Dark"/>
                                </ComboBoxItem>
                                <ComboBoxItem Tag="Default">
                                    <TextBlock x:Uid="SettingsPage_Theme_System" Text="Use system setting"/>
                                </ComboBoxItem>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Window Backdrop Card -->
                    <Border CornerRadius="8" 
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            Padding="20,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                      Glyph="&#xE91B;" 
                                      FontSize="20" 
                                      Margin="0,0,16,0"
                                      VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="1" 
                                        VerticalAlignment="Center"
                                        Spacing="4">
                                <TextBlock x:Uid="SettingsPage_Backdrop" 
                                           Text="Navigation style" 
                                           Style="{ThemeResource BodyTextBlockStyle}"/>
                                <TextBlock x:Uid="SettingsPage_Backdrop_Description"
                                           Text="Choose the visual effect for the window background"
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           Opacity="0.6"/>
                            </StackPanel>

                            <ComboBox Grid.Column="2"
                                      x:Name="BackdropComboBox" 
                                      Width="200"
                                      SelectionChanged="BackdropComboBox_SelectionChanged">
                                <ComboBoxItem Tag="Mica">
                                    <TextBlock x:Uid="SettingsPage_Backdrop_Mica" Text="Mica"/>
                                </ComboBoxItem>
                                <ComboBoxItem Tag="Acrylic">
                                    <TextBlock x:Uid="SettingsPage_Backdrop_Acrylic" Text="Acrylic"/>
                                </ComboBoxItem>
                                <ComboBoxItem Tag="Transparent">
                                    <TextBlock x:Uid="SettingsPage_Backdrop_Transparent" Text="None"/>
                                </ComboBoxItem>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Icon Pack Update Card -->
                    <Border CornerRadius="8" 
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            Padding="20,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                      Glyph="&#xE8F1;" 
                                      FontSize="20" 
                                      Margin="0,0,16,0"
                                      VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="1" 
                                        VerticalAlignment="Center"
                                        Spacing="4">
                                <TextBlock x:Uid="SettingsPage_IconPack" 
                                           Text="Icon Pack Updates" 
                                           Style="{ThemeResource BodyTextBlockStyle}"/>
                                <TextBlock x:Uid="SettingsPage_IconPack_Description" 
                                           Text="Check for updates from the GitHub repository"
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           Opacity="0.6"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" 
                                        Orientation="Horizontal" 
                                        Spacing="12"
                                        VerticalAlignment="Center">
                                <ProgressRing x:Name="UpdateProgressRing" 
                                              IsIndeterminate="True" 
                                              Visibility="Collapsed" 
                                              Width="20" 
                                              Height="20"/>
                                <Button x:Name="UpdateIconsButton" 
                                        x:Uid="SettingsPage_UpdateIconsButton"
                                        Click="UpdateIconsButton_Click"
                                        Content="Check for Updates"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Icon Pack Folder Selection Card -->
                    <Border CornerRadius="8" 
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            Padding="20,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                      Glyph="&#xE8B7;" 
                                      FontSize="20" 
                                      Margin="0,0,16,0"
                                      VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="1" 
                                        VerticalAlignment="Center"
                                        Spacing="4">
                                <TextBlock x:Uid="SettingsPage_IconPack_Folder"
                                           Text="Icon Pack Folder" 
                                           Style="{ThemeResource BodyTextBlockStyle}"/>
                                <TextBlock x:Name="IconPackPathTextBlock"
                                           TextWrapping="Wrap"
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           Opacity="0.6"/>
                            </StackPanel>

                            <Button Grid.Column="2"
                                    x:Name="SelectIconsFolderButton"
                                    Click="SelectIconsFolderButton_Click"
                                    x:Uid="SettingsPage_IconPack_SelectFolder"
                                    Content="手动选择图标包路径"/>
                        </Grid>
                    </Border>

                    <!-- Status Display -->
                    <TextBlock x:Name="IconPackStatusTextBlock"
                               TextWrapping="Wrap"
                               Style="{ThemeResource CaptionTextBlockStyle}"
                               Opacity="0.8"
                               Margin="0,0,0,16"/>

                    <!-- About section header -->
                    <TextBlock Text="About" 
                               Style="{ThemeResource BodyStrongTextBlockStyle}"
                               Margin="0,16,0,8"/>

                    <!-- About Card -->
                    <Border CornerRadius="8" 
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            Padding="20,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0"
                                    CornerRadius="8"
                                    Width="40"
                                    Height="40"
                                    Background="{ThemeResource AccentFillColorDefaultBrush}"
                                    Margin="0,0,16,0"
                                    VerticalAlignment="Center">
                                <FontIcon Glyph="&#xE946;" 
                                          FontSize="20"
                                          Foreground="White"/>
                            </Border>

                            <StackPanel Grid.Column="1" 
                                        VerticalAlignment="Center"
                                        Spacing="4">
                                <TextBlock x:Uid="SettingsPage_AppName" 
                                           Text="Change Folder Icon"
                                           Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                                <TextBlock Text="© 2025 Microsoft. All rights reserved."
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           Opacity="0.6"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" 
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Right">
                                <TextBlock x:Uid="SettingsPage_Version" 
                                           Text="1.0.0.0"
                                           Style="{ThemeResource CaptionTextBlockStyle}"
                                           HorizontalAlignment="Right"
                                           Opacity="0.8"/>
                                <TextBlock HorizontalAlignment="Right"
                                           Margin="0,4,0,0">
                                    <Hyperlink NavigateUri="https://github.com/YILING0013/ChangeFolderIcon">
                                        <Run x:Uid="SettingsPage_GitHub" Text="View on GitHub"/>
                                    </Hyperlink>
                                </TextBlock>
                            </StackPanel>
                        </Grid>
                    </Border>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</Page>